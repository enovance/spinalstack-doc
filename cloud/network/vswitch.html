<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Hostclass: cloud::network::vswitch
  
    &mdash; Documentation by YARD 0.8.7.6
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../../';
  framesUrl = "../../frames.html#!cloud/network/vswitch.html";
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (v)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../cloud.html" title="cloud (hostclass)">cloud</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../network.html" title="cloud::network (hostclass)">network</a></span></span>
     &raquo; 
    <span class="title">vswitch</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="puppet_manifest_list_link"
        href="../../puppet_manifest_list.html">
      Puppet Manifest List
    </a>
  
    <a class="full_list_link" id="puppet_plugin_list_link"
        href="../../puppet_plugin_list.html">
      Puppet Plugin List
    </a>
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><div class='module_header'>
  <h1>
    Puppet Class: vswitch
  </h1>
</div>

<dl class="box">
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">manifests/network/vswitch.pp</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
<p>Copyright (C) 2014 eNovance SAS &lt;licensing@enovance.com&gt; Licensed
under the Apache License, Version 2.0 (the "License"); you may not use this
file except in compliance with the License. You may obtain a copy of the
License at</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_http'>http</span><span class='symbol'>:/</span><span class='op'>/</span><span class='id identifier rubyid_www'>www</span><span class='period'>.</span><span class='id identifier rubyid_apache'>apache</span><span class='period'>.</span><span class='id identifier rubyid_org'>org</span><span class='op'>/</span><span class='id identifier rubyid_licenses'>licenses</span><span class='op'>/</span><span class='const'>LICENSE</span><span class='op'>-</span><span class='float'>2.0</span></code></pre>

<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
License for the specific language governing permissions and limitations
under the License. Network vswitch class</p>

<h3>Parameters:</h3>
<dl class="rdoc-list"><dt><b>driver</b></dt>
<dd>
<p>(optional) Neutron vswitch driver Supported values: 'ml2_ovs', 'ml2_lb',
'n1kv_vem'. Note: 'n1kv_vem' currently works only on Red Hat systems.
Defaults to 'ml2_ovs'</p>
</dd><dt><b>external_int</b></dt>
<dd>
<p>(optionnal) Network interface to bind the external provider network
Defaults to 'eth1'.</p>
</dd><dt><b>external_bridge</b></dt>
<dd>
<p>(optionnal) OVS bridge used to bind external provider network Defaults to
'br-pub'.</p>
</dd><dt><b>manage_ext_network</b></dt>
<dd>
<p>(optionnal) Manage or not external network with provider network API
Defaults to false.</p>
</dd><dt><b>tunnel_eth</b></dt>
<dd>
<p>(optional) Interface IP used to build the tunnels Defaults to '127.0.0.1'</p>
</dd><dt>*tunnel_typeis</dt>
<dd>
<p>(optional) List of types of tunnels to use when utilizing tunnels Defaults
to ['gre']</p>
</dd><dt><b>provider_bridge_mappings</b></dt>
<dd>
<p>(optional) List of &lt;physical_network&gt;:&lt;bridge&gt;</p>
</dd><dt><b>enable_distributed_routing</b></dt>
<dd>
<p>(optional) Enable support for distributed routing on L2 agent. Defaults to
false.</p>
</dd><dt><b>n1kv_vsm_ip</b></dt>
<dd>
<p>(required) N1KV VSM (Virtual Supervisor Module) VM's IP. Defaults to
127.0.0.1</p>
</dd><dt><b>n1kv_vsm_domainid</b></dt>
<dd>
<p>(required) N1KV VSM DomainID. Defaults to 1000</p>
</dd><dt><b>host_mgmt_intf</b></dt>
<dd>
<p>(required) Management Interface of node where VEM will be installed.
Defaults to eth1</p>
</dd><dt><b>uplink_profile</b></dt>
<dd>
<p>(optional) Uplink Interfaces that will be managed by VEM. The uplink</p>

<pre class="code ruby"><code class="ruby">port-profile that configures these interfaces should also be specified.</code></pre>

<p>(format)</p>

<pre class="code ruby"><code class="ruby">$uplink_profile = { 'eth1' =&gt; 'profile1',
                    'eth2' =&gt; 'profile2'
                   },</code></pre>

<p>Defaults to empty</p>
</dd><dt><b>vtep_config</b></dt>
<dd>
<p>(optional) Virtual tunnel interface configuration.</p>

<pre class="code ruby"><code class="ruby">Eg:VxLAN tunnel end-points.</code></pre>

<p>(format) $vtep_config = { 'vtep1' =&gt; { 'profile' =&gt; 'virtprof1',</p>

<pre class="code ruby"><code class="ruby">               'ipmode'  =&gt; 'dhcp'
             },
  'vtep2' =&gt; { 'profile'   =&gt; 'virtprof2',
               'ipmode'    =&gt; 'static',
               'ipaddress' =&gt; '192.168.1.1',
               'netmask'   =&gt; '255.255.255.0'
             }
},</code></pre>

<p>Defaults to empty</p>
</dd><dt><b>node_type</b></dt>
<dd>
<p>(optional). Specify the type of node: 'compute' (or) 'network'. Defaults to
'compute'</p>
</dd></dl>

<p>All the above parameter values will be used in the config file: n1kv.conf</p>
<dl class="rdoc-list"><dt><b>vteps_in_same_subnet</b></dt>
<dd>
<p>(optional) The VXLAN tunnel interfaces created on VEM can belong to same
IP-subnet. In such case, set this parameter to true. This results in below
'sysctl:ipv4' values to be modified.</p>

<pre class="code ruby"><code class="ruby">rp_filter (reverse path filtering) set to 2(Loose).Default is 1(Strict)
arp_ignore (arp reply mode) set to 1:reply only if target ip matches
                           that of incoming interface. Default is 0</code></pre>

<p>Please refer Linux Documentation for detailed description <a
href="http://lxr.free-electrons.com/source/Documentation/networking/ip-sysctl.txt">lxr.free-electrons.com/source/Documentation/networking/ip-sysctl.txt</a>
If the tunnel interfaces are not in same subnet set this parameter to
false. Note that setting to false causes no change in the sysctl settings
and does not revert the changes made if it was originally set to true on a
previous catalog run. Defaults to false</p>
</dd><dt><b>n1kv_source</b></dt>
<dd>
<p>(optional)</p>

<pre class="code ruby"><code class="ruby">n1kv_source ==&gt; VEM package location. One of below
  A)URL of yum repository that hosts VEM package.
  B)VEM RPM/DPKG file name, If present locally in 'files' folder
  C)If not specified, assumes that VEM image is available in
    default enabled repositories.</code></pre>

<p>Defaults to empty</p>
</dd><dt><b>n1kv_version</b></dt>
<dd>
<p>(optional). Specify VEM package version to be installed.</p>

<pre class="code ruby"><code class="ruby">Not applicable if 'n1kv_source' is a file. (Option-B above)</code></pre>

<p>Defaults to 'present'</p>
</dd><dt><b>tunnel_types</b></dt>
<dd>
<p>(optional) List of types of tunnels to use when utilizing tunnels.
Supported tunnel types are: vxlan. Defaults to ['gre']</p>
</dd><dt><b>n1kv_vsm_domain_id</b></dt>
<dd>
<p>(optional) N1000 KV Domain ID (does nothing?) Defaults to 1000</p>
</dd><dt><b>firewall_settings</b></dt>
<dd>
<p>(optional) Allow to add custom parameters to firewall rules Should be an
hash. Default to {}</p>
</dd></dl>
</p>
  </div>
</div>
<div class="tags">
  
  
  
</div>
<h2>Parameter Summary</h2>
<div class="tags">
  <ul class="param">
    <li><span class="name">driver </span><span class="type">(<tt>TBD</tt>)</span><tt> => 'ml2_ovs'</tt></li><li><span class="name">manage_ext_network </span><span class="type">(<tt>TBD</tt>)</span><tt> => false</tt></li><li><span class="name">external_int </span><span class="type">(<tt>TBD</tt>)</span><tt> => 'eth1'</tt></li><li><span class="name">external_bridge </span><span class="type">(<tt>TBD</tt>)</span><tt> => 'br-pub'</tt></li><li><span class="name">firewall_settings </span><span class="type">(<tt>TBD</tt>)</span><tt> => {}</tt></li><li><span class="name">tunnel_types </span><span class="type">(<tt>TBD</tt>)</span><tt> => ['gre']</tt></li><li><span class="name">tunnel_eth </span><span class="type">(<tt>TBD</tt>)</span><tt> => '127.0.0.1'</tt></li><li><span class="name">provider_bridge_mappings </span><span class="type">(<tt>TBD</tt>)</span><tt> => ['public:br-pub']</tt></li><li><span class="name">enable_distributed_routing </span><span class="type">(<tt>TBD</tt>)</span><tt> => false</tt></li><li><span class="name">n1kv_vsm_ip </span><span class="type">(<tt>TBD</tt>)</span><tt> => '127.0.0.1'</tt></li><li><span class="name">n1kv_vsm_domain_id </span><span class="type">(<tt>TBD</tt>)</span><tt> => 1000</tt></li><li><span class="name">host_mgmt_intf </span><span class="type">(<tt>TBD</tt>)</span><tt> => 'eth1'</tt></li><li><span class="name">uplink_profile </span><span class="type">(<tt>TBD</tt>)</span><tt> => {}</tt></li><li><span class="name">vtep_config </span><span class="type">(<tt>TBD</tt>)</span><tt> => {}</tt></li><li><span class="name">node_type </span><span class="type">(<tt>TBD</tt>)</span><tt> => 'compute'</tt></li><li><span class="name">vteps_in_same_subnet </span><span class="type">(<tt>TBD</tt>)</span><tt> => false</tt></li><li><span class="name">n1kv_source </span><span class="type">(<tt>TBD</tt>)</span><tt> => ''</tt></li><li><span class="name">n1kv_version </span><span class="type">(<tt>TBD</tt>)</span><tt> => 'present'</tt></li>
  </ul>
</div>
</div>

    <div id="footer">
  Generated on Wed Apr 15 02:27:20 2015 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.6 (ruby-1.9.3).
</div>

  </body>
</html>